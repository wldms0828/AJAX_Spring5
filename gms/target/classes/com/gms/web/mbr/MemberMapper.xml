<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gms.web.mbr.MemberMapper">
  <select id="selectOne" resultType="com.gms.web.mbr.Member">
    SELECT * FROM MEMBER WHERE USERID LIKE #{userid}
  </select>
  <insert id="post">
  	INSERT INTO MEMBER ( USERID, SSN, NAME, GENDER, AGE, ROLL, TEAMID, PASSWORD ) 
  		VALUES (#{userid},#{ssn},#{name},#{gender},#{age},#{roll},#{teamid},#{password})
  </insert>
   <update  id="update" >
   	UPDATE MEMBER
 	 SET PASSWORD = #{password},ROLL = #{roll},TEAMID = #{teamid}
 	  WHERE USERID LIKE #{userid};
   </update> 
   <delete  id="delete"  >
   	DELETE FROM MEMBER WHERE USERID LIKE #{userid} 
  	 	AND PASSWORD LIKE #{password}
   </delete> 
	<select  id="login" resultType="java.lang.String">
		SELECT COUNT(USERID) FROM MEMBER WHERE USERID LIKE #{userid} 
			AND PASSWORD LIKE #{password}
	</select>
	<select  id="exist" resultType="java.lang.String">
		SELECT COUNT(USERID) FROM MEMBER WHERE USERID LIKE #{userid} 
	</select>
	 <select id="get" resultType="com.gms.web.mbr.Member">
	 SELECT USERID, TEAMID , AGE, GENDER,  NAME, ROLL, SSN
	 	FROM MEMBER 
	 	<where>
	 		<if test=" userid != null and userid != '' ">
	 		USERID LIKE #{userid}
	 		</if>
	 		<if test=" password != null and password != '' ">
	 		AND PASSWORD LIKE #{password}
	 		</if>
	 	</where> 
	 </select>
	<select id="count" resultType="int">
		SELECT COUNT(*) FROM MEMBER
		<where>
			<if test="userid !=null and userid !=''">USERID LIKE #{userid}</if>
		</where>
	</select>
</mapper>